{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "System Metrics Schema",
  "description": "Complete system metrics summary for DocuSearch application",
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Metrics collection timestamp"
    },
    "jobs": {
      "type": "object",
      "properties": {
        "total": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of jobs"
        },
        "successful": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of successful jobs"
        },
        "failed": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of failed jobs"
        },
        "currently_processing": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of jobs currently processing"
        },
        "p50_latency_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "50th percentile job latency in seconds"
        },
        "p95_latency_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "95th percentile job latency in seconds"
        },
        "avg_processing_time_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "Average job processing time in seconds"
        }
      },
      "required": [
        "total", "successful", "failed", "currently_processing",
        "p50_latency_seconds", "p95_latency_seconds", "avg_processing_time_seconds"
      ],
      "additionalProperties": false
    },
    "documents": {
      "type": "object",
      "properties": {
        "total_processed": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of documents processed"
        },
        "total_successful": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of successfully processed documents"
        },
        "total_failed": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of failed document processing attempts"
        },
        "total_skipped": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of skipped documents"
        },
        "p50_processing_time_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "50th percentile document processing time in seconds"
        },
        "p95_processing_time_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "95th percentile document processing time in seconds"
        },
        "avg_processing_time_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "Average document processing time in seconds"
        },
        "total_processing_time_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "Total document processing time in seconds"
        }
      },
      "required": [
        "total_processed", "total_successful", "total_failed", "total_skipped",
        "p50_processing_time_seconds", "p95_processing_time_seconds", 
        "avg_processing_time_seconds", "total_processing_time_seconds"
      ],
      "additionalProperties": false
    },
    "system": {
      "type": "object",
      "properties": {
        "uptime_seconds": {
          "type": "number",
          "minimum": 0,
          "description": "System uptime in seconds"
        },
        "metrics_collection_start": {
          "type": "number",
          "description": "Metrics collection start time as Unix timestamp"
        }
      },
      "required": ["uptime_seconds", "metrics_collection_start"],
      "additionalProperties": false
    }
  },
  "required": ["timestamp", "jobs", "documents", "system"],
  "additionalProperties": false
}
